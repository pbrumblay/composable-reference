# SPDX-License-Identifier: AGPL-3.0-or-later
# Composable! Ecommerce - HarperDB schema

type Product @table @export {
	id: ID @primaryKey
	url: String
	title: String
	brand: String
	price: String
	price_value: Float
	currency: String
	sizes: [String]
	description: String
	product_details: [String]
	category: String
	images: [String]
	list_name: String
	list_price: String
	color: [String]
	fabric: [String]
	pattern: [String]
}

# Cache table for product taglines from external CMS. 3 min TTL, read-through from ProductTaglineSource.
type ProductTagline @table(expiration: 180) @export {
	id: ID @primaryKey
	tagline: String
}

# Next.js ISR cache: durable storage for incremental static regeneration.
type NextJsIsrCache @table @export {
	id: ID @primaryKey
	data: String
}

type NextJsUseCache @table @export {
	id: ID @primaryKey
	data: String
	tags: [String]
}
